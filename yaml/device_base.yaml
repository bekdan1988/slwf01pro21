esphome:
  name: "${name}"
  friendly_name: "${friendly_name}"
  name_add_mac_suffix: true
  project:
    name: SMLIGHT.SLWF-01Pro
    version: "2.1"

esp8266:
  board: esp12e

captive_portal:

logger:
  baud_rate: 0

api:
  encryption:
    key: ${air_conditioner_api_encryption_key}
  services:
    - service: follow_me
      variables:
        temperature: float
      then:
        midea_ac.follow_me:
          temperature: !lambda "return temperature;"
          beeper: false

ota:
  - platform: esphome
    password: ${air_conditioner_ota_password}

uart:
  tx_pin: 12
  rx_pin: 14
  baud_rate: 9600
  
button:
  - platform: factory_reset
    id: factory_reset_btn
    name: ${factory_reset_button_name}
  - platform: template
    name: ${display_toggle_name}
    id: midea_display_toggle
    icon: mdi:theme-light-dark
    on_press:
      midea_ac.display_toggle:
  - platform: template
    name: ${swing_step_name}
    id: midea_swing_step
    icon: mdi:tailwind
    on_press:
      midea_ac.swing_step:

switch:
  - platform: template
    name: ${beeper_switch_name}
    id: midea_beeper
    icon: mdi:volume-source
    restore_mode: RESTORE_DEFAULT_OFF
    optimistic: true
    turn_on_action:
      midea_ac.beeper_on:
    turn_off_action:
      midea_ac.beeper_off:

remote_transmitter:
  pin: GPIO13                       
  carrier_duty_percent: 100%

sensor:
  - platform: wifi_signal
    name: ${wifi_signal_sensor_name}
    update_interval: 60s
  - platform: uptime
    name: "${uptime_sensor_name}"
    id: uptime_sec
    internal: true
  - platform: template
    name: ${uptime_days_sensor_name}
    lambda: |-
      return (id(uptime_sec).state/60)/60/24;
    icon: mdi:clock-start
    unit_of_measurement: ${uptime_days_unit_of_measurement}
    update_interval: 60s
    
script:
  - id: on_button_click
    then:
      midea_ac.power_toggle:

web_server:
  port: 80
